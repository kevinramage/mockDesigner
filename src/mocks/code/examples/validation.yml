name: validation
services:
- name: validationService
  method: POST
  path: /api/v1/sendToDelivery
  response:
    triggers:
    - type: validate
      mandatoriesFields:
      - "deliveryDate"
      - "contact.id"
      - "products"
      - "products.id"
      - "products.name"
      actions:
      - type: message
        status: 400
        body: Mandatories fields missing %s
    - type: validate
      enumFields:
      - field: "type"
        values:
        - "PERSONNAL"
        - "PROFESSIONNAL"
      actions:
      - type: message
        status: 400
        body: Type is not valid
    - type: validate
      enumFields:
      - field: "products.deliveryMode"
        values:
        - "IMMEDIATE"
        - "SCHEDULED"
      actions:
      - type: message
        status: 400
        body: DeliveryMode is not valid
    - type: none
      actions:
      - type: message
        status: 200
        body: OK